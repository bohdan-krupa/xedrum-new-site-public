(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{6053:(e,r,l)=>{"use strict";l.r(r),l.d(r,{default:()=>n});var t=l(9244),a=l(9056),o=l(9957),s=l.n(o);let n=e=>{let{src:r="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",poster:l,className:o,previewImage:n,variant:i="default",containerClassName:c=""}=e,d=(0,a.useRef)(null),u=(0,a.useRef)(null),v=(0,a.useRef)(null),[_,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(0),[y,f]=(0,a.useState)(0),[x,P]=(0,a.useState)(1),[j,C]=(0,a.useState)(!1),[g,w]=(0,a.useState)(!1),[V,B]=(0,a.useState)(!1),[b,k]=(0,a.useState)(!1),[z,N]=(0,a.useState)(0),[M,E]=(0,a.useState)(null),[L,S]=(0,a.useState)(!0),D=e=>{let r=Math.floor(e/60),l=Math.floor(e%60);return"".concat(r.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0"))},T=(0,a.useCallback)(()=>{d.current&&(_?d.current.pause():(V||(d.current.currentTime=0,S(!1),B(!0)),d.current.play(),d.current.style.opacity="1"),m(!_))},[_,V]);(0,a.useCallback)(e=>{let r=parseFloat(e.target.value);P(r),d.current&&(d.current.volume=r),0===r?C(!0):C(!1)},[]);let F=(0,a.useCallback)(()=>{d.current&&(d.current.muted=!j,C(!j))},[j]),H=(0,a.useCallback)(e=>{if(u.current&&d.current){let r=u.current.getBoundingClientRect(),l=(e.clientX-r.left)/r.width*y;d.current.currentTime=l,p(l)}},[y]);(0,a.useCallback)(e=>{if(v.current){let r=v.current.getBoundingClientRect(),l=Math.max(0,Math.min(1,(e.clientX-r.left)/r.width));P(l),d.current&&(d.current.volume=l),0===l?C(!0):C(!1)}},[]);let O=(0,a.useCallback)(()=>{if(document.fullscreenElement)document.exitFullscreen(),k(!1);else{var e;null==(e=d.current)||e.requestFullscreen(),k(!0)}},[]);(0,a.useEffect)(()=>{let e=e=>{switch(e.key){case" ":e.preventDefault(),T();break;case"ArrowLeft":e.preventDefault(),d.current&&(d.current.currentTime=Math.max(0,h-10));break;case"ArrowRight":e.preventDefault(),d.current&&(d.current.currentTime=Math.min(y,h+10));break;case"ArrowUp":e.preventDefault();let r=Math.min(1,x+.1);P(r),d.current&&(d.current.volume=r);break;case"ArrowDown":e.preventDefault();let l=Math.max(0,x-.1);P(l),d.current&&(d.current.volume=l);break;case"m":e.preventDefault(),F();break;case"f":e.preventDefault(),O()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[T,h,y,x,F,O]),(0,a.useEffect)(()=>{let e=d.current;if(!e)return;let r=()=>p(e.currentTime),l=()=>{f(e.duration)},t=()=>{e.buffered.length>0&&N(e.buffered.end(e.buffered.length-1))},a=()=>{m(!1),S(!0)};return e.addEventListener("timeupdate",r),e.addEventListener("loadedmetadata",l),e.addEventListener("progress",t),e.addEventListener("ended",a),()=>{e.removeEventListener("timeupdate",r),e.removeEventListener("loadedmetadata",l),e.removeEventListener("progress",t),e.removeEventListener("ended",a)}},[]),(0,a.useEffect)(()=>{n&&E(n)},[n]),(0,a.useEffect)(()=>{let e;return _&&g&&(e=setTimeout(()=>w(!1),3e3)),()=>clearTimeout(e)},[_,g]);let I=[s().videoPlayerContainer,"modal"===i?s().modalContainer:"",c].filter(Boolean).join(" ");return(0,t.jsx)("div",{className:I,children:(0,t.jsxs)("div",{className:"".concat(s().videoPlayer," ").concat(o||""),onMouseMove:()=>w(!0),onMouseLeave:()=>_&&w(!1),children:[(0,t.jsx)("video",{ref:d,src:r,poster:l,className:s().video,onClick:T,style:{opacity:_?1:.8}}),L&&M&&(0,t.jsxs)("div",{className:s().previewOverlay,children:[(0,t.jsx)("img",{src:M,alt:"Превью",className:s().previewImage}),(0,t.jsx)("div",{className:s().playOverlay,onClick:T,children:(0,t.jsxs)("div",{className:s().playButton,children:[(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z"})}),(0,t.jsx)("span",{children:"Play video"})]})})]}),V&&_&&(0,t.jsxs)("div",{className:"".concat(s().controls," ").concat(g?s().show:""),children:[(0,t.jsx)("div",{className:s().progressContainer,children:(0,t.jsxs)("div",{ref:u,className:s().progressBar,onClick:H,children:[(0,t.jsx)("div",{className:s().progressFilled,style:{width:"".concat(h/y*100,"%")}}),(0,t.jsx)("div",{className:s().buffered,style:{width:"".concat(z/y*100,"%")}}),(0,t.jsx)("div",{className:s().progressThumb,style:{left:"".concat(h/y*100,"%")}})]})}),(0,t.jsxs)("div",{className:s().controlButtons,children:[(0,t.jsxs)("div",{className:s().leftControls,children:[(0,t.jsx)("button",{className:s().controlButton,onClick:T,"aria-label":_?"Pause":"Play",children:_?(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,t.jsxs)("div",{className:s().timeDisplay,children:[(0,t.jsx)("span",{children:D(h)}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)("span",{children:D(y)})]})]}),(0,t.jsxs)("div",{className:s().rightControls,children:[(0,t.jsx)("div",{className:s().volumeControl,children:(0,t.jsx)("button",{className:s().controlButton,onClick:F,"aria-label":j?"Unmute":"Mute",children:j||0===x?(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):x<.5?(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"})}):(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})})}),(0,t.jsx)("button",{className:s().controlButton,onClick:O,"aria-label":b?"Exit fullscreen":"Enter fullscreen",children:b?(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})}):(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]})]}),!_&&!L&&(0,t.jsx)("div",{className:s().playOverlay,onClick:T,children:(0,t.jsxs)("div",{className:s().playButton,children:[(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z"})}),(0,t.jsx)("span",{children:"Play video"})]})})]})})}},9957:e=>{e.exports={videoPlayerContainer:"VideoPlayer_videoPlayerContainer__X_rZZ",modalContainer:"VideoPlayer_modalContainer__9tx0L",previewSection:"VideoPlayer_previewSection___XJZG",previewInput:"VideoPlayer_previewInput__zaNPQ",timeInput:"VideoPlayer_timeInput__87eZ5",previewButton:"VideoPlayer_previewButton__kiS_B",previewDisplay:"VideoPlayer_previewDisplay__iLCXI",previewHeader:"VideoPlayer_previewHeader__FOb_8",closePreview:"VideoPlayer_closePreview__0hpQ8",previewOverlay:"VideoPlayer_previewOverlay__l9z0_",previewImage:"VideoPlayer_previewImage__7LPj6",playFromPreviewButton:"VideoPlayer_playFromPreviewButton__azfD_",videoPlayer:"VideoPlayer_videoPlayer__k2_4e",video:"VideoPlayer_video__r3Z3R",controls:"VideoPlayer_controls__KoCvi",show:"VideoPlayer_show__zhOpL",progressContainer:"VideoPlayer_progressContainer__Fvry3",progressBar:"VideoPlayer_progressBar__vVo8N",progressThumb:"VideoPlayer_progressThumb__EeZfg",progressFilled:"VideoPlayer_progressFilled__aOrut",buffered:"VideoPlayer_buffered__OvVph",controlButtons:"VideoPlayer_controlButtons__xAonK",leftControls:"VideoPlayer_leftControls__Dbhl7",rightControls:"VideoPlayer_rightControls__jAG6_",controlButton:"VideoPlayer_controlButton__aZiml",timeDisplay:"VideoPlayer_timeDisplay__0Y_Rx",volumeControl:"VideoPlayer_volumeControl__4y6TP",volumeSlider:"VideoPlayer_volumeSlider__1l7Cz",volumeBar:"VideoPlayer_volumeBar__fdINa",volumeThumb:"VideoPlayer_volumeThumb__QinGh",volumeFilled:"VideoPlayer_volumeFilled__DVEqO",playOverlay:"VideoPlayer_playOverlay__uEQ5s",playButton:"VideoPlayer_playButton__zlqCz"}}}]);